.program ws2812
.side_set 1 opt

.wrap_target
bitloop:
    out x, 1        side 0 [2]   ; sortir 1 bit vers X
    jmp !x do_zero  side 1 [3]   ; si bit=0 → court pulse haut
    jmp do_one      side 0       ; sinon → aller vers do_one
do_zero:
    nop             side 0 [6]   ; compléter le temps bas
    jmp bitloop     side 0
do_one:
    nop             side 1 [6]   ; compléter le temps haut
    jmp bitloop     side 0
.wrap